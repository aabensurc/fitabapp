<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#007bff">
  <meta name="description" content="Seguimiento de ejercicio">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="css/styles.css">


  <title>Calculadora 1RM - FITABAPP</title>

  <style>

    .contenedor_1rm {
      margin-top: 80px;
      margin-bottom: 60px;
    }
    .row-c{
        height: 40px;
        font-size: 20px;
 
    }

    .row-c:active{
background-color: rgb(156, 221, 252);
 
    }
    .row-c-p{
        height: 40px;
        font-size: 20px;
        font-weight: 600;

        background-color: beige;
    }

    .app-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
 
      background-color: #2196F3;
      color: white;
    }

  </style>

</head>
<body>
  <!-- App Bar -->
  <div class="app-bar">
    <div class="nav-icons" id="back-buttonn">
      <i class="bi bi-arrow-left"></i> <!-- Botón de atrás -->
    </div>
    <h1 id="nombre-ejercicio">Calculaodora 1RM</h1>
    <div class="nav-icons">
      <i class="bi bi-arrow-left" style="color: #2196F3;"></i> <!-- Botón de atrás -->
    </div>
  </div>

  <div class="container-fluid contenedor_1rm">



    <div class="row">
        <!-- Formulario -->
        <div class="form-section col-6">
          <select id="weight-type" class="form-select mb-1">
            <option value="kg">Kilogramos</option>
            <option value="lb">Libras</option>
          </select>
          <input type="number" id="weight" class="form-control" placeholder="Peso">
        </div>
  
        <div class="form-section col-6">
          <select id="reps-select" class="form-select mb-1" disabled>
            <option value="reps">Repeticiones</option>
          </select>
          <!-- Input para repeticiones -->
          <input type="number" id="reps" class="form-control" placeholder="Repeticiones">
          <!-- Inputs para minutos y segundos, inicialmente ocultos -->
        </div>
      </div>
<!-- Boton -->
<div class="form-section d-flex justify-content-center mt-2">
    <button id="calcular-button" class="btn"  style="width: 100%; background-color: #2196F3; color: #fff";">Calcular</button>

  </div>
  
    <div class="container fluid p-0">

  
    <h3 class="text-center my-4">Repeticiones maximas estimadas</h3>
    <div class="row text-center m-0 border-bottom mb-2 align-items-center">
        <div class="col-4 text-secondary">Repeticiones</div>
        <div class="col-4 text-secondary">Peso</div>
        <div class="col-4 text-secondary">Porcentaje</div>
    </div>
        <!-- Fila 1 -->
        <div class="row text-center m-0 border-bottom row-c-p align-items-center">
            <div class="col-4">1</div>
            <div class="col-4">-</div>
            <div class="col-4">100%</div>
        </div>

        <!-- Fila 2 -->
        <div class="row text-center m-0 border-bottom row-c align-items-center">
            <div class="col-4">2</div>
            <div class="col-4">-</div>
            <div class="col-4">95%</div>
        </div>

        <!-- Fila 3 -->
        <div class="row text-center m-0 border-bottom row-c align-items-center">
            <div class="col-4">3</div>
            <div class="col-4">-</div>
            <div class="col-4">93%</div>
        </div>

        <!-- Fila 4 -->
        <div class="row text-center m-0 border-bottom row-c align-items-center">
            <div class="col-4">4</div>
            <div class="col-4">-</div>
            <div class="col-4">90%</div>
        </div>

        <!-- Fila 5 -->
        <div class="row text-center m-0 border-bottom row-c align-items-center">
            <div class="col-4">5</div>
            <div class="col-4">-</div>
            <div class="col-4">87%</div>
        </div>

        <!-- Fila 6 -->
        <div class="row text-center m-0 border-bottom row-c align-items-center">
            <div class="col-4">6</div>
            <div class="col-4">-</div>
            <div class="col-4">85%</div>
        </div>

        <!-- Fila 7 -->
        <div class="row text-center m-0 border-bottom row-c align-items-center">
            <div class="col-4">7</div>
            <div class="col-4">-</div>
            <div class="col-4">83%</div>
        </div>

        <!-- Fila 8 -->
        <div class="row text-center m-0 border-bottom row-c align-items-center">
            <div class="col-4">8</div>
            <div class="col-4">-</div>
            <div class="col-4">80%</div>
        </div>

        <!-- Fila 9 -->
        <div class="row text-center m-0 border-bottom row-c align-items-center">
            <div class="col-4">9</div>
            <div class="col-4">-</div>
            <div class="col-4">77%</div>
        </div>

        <!-- Fila 10 -->
        <div class="row text-center m-0 border-bottom row-c align-items-center">
            <div class="col-4">10</div>
            <div class="col-4">-</div>
            <div class="col-4">75%</div>
        </div>

        <!-- Fila 11 -->
        <div class="row text-center m-0 border-bottom row-c align-items-center">
            <div class="col-4">11</div>
            <div class="col-4">-</div>
            <div class="col-4">70%</div>
        </div>

        <!-- Fila 12 -->
        <div class="row text-center m-0 border-bottom row-c align-items-center">
            <div class="col-4">12</div>
            <div class="col-4">-</div>
            <div class="col-4">67%</div>
        </div>

        <!-- Fila 13 -->
        <div class="row text-center m-0 border-bottom row-c align-items-center">
            <div class="col-4">15</div>
            <div class="col-4">-</div>
            <div class="col-4">65%</div>
        </div>

        <!-- Fila 14 -->
        <div class="row text-center m-0 border-bottom row-c align-items-center">
            <div class="col-4">20</div>
            <div class="col-4">-</div>
            <div class="col-4">60%</div>
        </div>

        <!-- Fila 15 -->
        <div class="row text-center m-0 border-bottom row-c align-items-center">
            <div class="col-4">25</div>
            <div class="col-4">-</div>
            <div class="col-4">55%</div>
        </div>

        <!-- Fila 16 -->
        <div class="row text-center m-0 border-bottom row-c align-items-center">
            <div class="col-4">30</div>
            <div class="col-4">-</div>
            <div class="col-4">50%</div>
        </div>

    </div>
   

  </div>




  <!-- Modal para seleccionar la unidad de peso -->
  <div class="modal fade" id="unidadPesoModal" tabindex="-1" aria-labelledby="unidadPesoModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="unidadPesoModalLabel">Selecciona la unidad de peso</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <label for="selectUnidadPeso">Unidad de Peso:</label>
          <select id="selectUnidadPeso" class="form-select">
            <option value="kg">kg</option>
            <option value="lb">lb</option>
          </select>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" id="guardarUnidadPeso">Guardar</button>
        </div>
      </div>
    </div>
  </div>



  <script>
        // Volver a la pantalla anterior
        document.getElementById('back-button').addEventListener('click', function() {
      history.back();
    });
  </script>

<script>
document.getElementById('calcular-button').addEventListener('click', function () {
  // Obtener los valores de los inputs
  const pesoInput = parseFloat(document.getElementById('weight').value);
  const repeticiones = parseInt(document.getElementById('reps').value);
  const tipoPeso = document.getElementById('weight-type').value; // Obtener el tipo de peso

  // Convertir el peso a kilogramos si está en libras
  let peso = tipoPeso === 'lb' ? pesoInput * 0.453592 : pesoInput; // 1 lb = 0.453592 kg

  // Validar que los valores sean números y que no sean nulos
  if (isNaN(peso) || isNaN(repeticiones) || repeticiones <= 0) {
    alert('Por favor, introduce valores válidos para peso y repeticiones.');
    return;
  }

  // Calcular el 1RM
  const oneRM = peso / (1.0278 - (0.0278 * repeticiones));

  // Mostrar el resultado en la tabla (segunda columna de la fila 2)
  const fila2 = document.querySelectorAll('.row.text-center.border-bottom')[1]; // Seleccionar la segunda fila de resultados
  fila2.querySelectorAll('.col-4')[1].textContent = tipoPeso === 'lb' ? (oneRM / 0.453592).toFixed(2) + ' lb' : oneRM.toFixed(2) + ' kg'; // Actualizar con el resultado

  // Obtener todas las filas de resultados
  const filas = document.querySelectorAll('.row.text-center.border-bottom');

  // Recorrer las filas a partir de la segunda fila (índice 1)
  for (let i = 1; i < filas.length; i++) {
    const porcentajeText = filas[i].querySelectorAll('.col-4')[2].textContent; // Obtener el porcentaje
    const porcentaje = parseFloat(porcentajeText) / 100; // Convertir el porcentaje a decimal

    // Calcular el peso correspondiente al porcentaje
    const pesoCalculado = oneRM * porcentaje;

    // Actualizar la segunda columna de la fila
    filas[i].querySelectorAll('.col-4')[1].textContent = tipoPeso === 'lb' ? (pesoCalculado / 0.453592).toFixed(2) + ' lb' : pesoCalculado.toFixed(2) + ' kg'; // Actualizar con el peso calculado
  }
});

</script>

<script>
    // Al cargar la página, establecer el valor del selector de unidad de peso
document.addEventListener('DOMContentLoaded', function () {
  const unidadPeso = localStorage.getItem('unidad-peso') || 'kg'; // Obtener del localStorage o usar 'kg' por defecto
  document.getElementById('weight-type').value = unidadPeso; // Establecer el valor en el selector
});
</script>

<script>
        // Volver a la pantalla anterior
        document.getElementById('back-buttonn').addEventListener('click', function() {
      history.back();
    });
</script>
  <!-- Bootstrap JS and dependencies -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  

</body>
</html>
